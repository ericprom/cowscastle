{"version":3,"sources":["meteor://ðŸ’»app/lib/collections/spaces.js"],"names":[],"mappings":"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","file":"/lib/collections/spaces.js","sourcesContent":["Spaces = new Mongo.Collection('spaces');\nvar Schemas = {};\nSchemas.Space = new SimpleSchema({\n    venue_id: {\n      type: String,\n      label: 'Venue ID'\n    },\n    type: {\n      type: String,\n      label: 'Space Type',\n      optional: true\n    },\n    instant: {\n      type: Boolean,\n      label: 'Enable Instant Booking',\n      optional: true\n    },\n    name: {\n      type: String,\n      label: 'Space Name'\n    },\n    poster: {\n      type: String,\n      label: 'Space Poster',\n      optional: true\n    },\n    quantity: {\n      type: String,\n      label: 'Space Quantity',\n      optional: true\n    },\n    detail: {\n      type: String,\n      label: 'Space Detail',\n      optional: true\n    },\n    per_hour: {\n      type: String,\n      label: 'Space Cost Per hour',\n      optional: true\n    },\n    per_day: {\n      type: String,\n      label: 'Space Cost Per Day',\n      optional: true\n    },\n    per_month: {\n      type: String,\n      label: 'Space Cost Per Month',\n      optional: true\n    },\n    createdBy:{\n      type: String,\n      optional: true\n    },\n    createdAt:{\n      type: Date,\n      optional: true\n    },\n    updatedBy:{\n      type: String,\n      optional: true\n    },\n    updatedAt:{\n      type: Date,\n      optional: true\n    },\n});\n\nSpaces.attachSchema(Schemas.Space);\nif (Meteor.isServer) {\n  Spaces.allow({\n    insert: function (userId, doc) {\n      return true;\n    },\n\n    update: function (userId, doc, fieldNames, modifier) {\n      return true;\n    },\n\n    remove: function (userId, doc) {\n      return true;\n    }\n  });\n\n  Spaces.deny({\n    insert: function (userId, doc) {\n      return false;\n    },\n\n    update: function (userId, doc, fieldNames, modifier) {\n      return false;\n    },\n\n    remove: function (userId, doc) {\n      return false;\n    }\n  });\n}\nSpaces.after.insert(function (userId, doc) {\n    var venue = Venues.findOne(doc.venue_id);\n    HTTP.call( 'PUT', 'http://localhost:9200/cowscastle/space/'+doc._id, {\n      data: {\n        \"space\": doc,\n        \"venue\" : venue\n      }\n    }, function( error, response ) {\n      if ( error ) {\n        console.log( error );\n      } else {\n        console.log( response );\n      }\n    });\n});\nSpaces.after.update(function (userId, doc, fieldNames, modifier, options) {\n    var venue = Venues.findOne(doc.venue_id);\n    HTTP.call( 'POST', 'http://localhost:9200/cowscastle/space/'+doc._id+'/_update', {\n      data: {\n        \"doc\" : {\n            \"space\": doc,\n            \"venue\" : venue\n        }\n      }\n    }, function( error, response ) {\n      if ( error ) {\n        console.log( error );\n      } else {\n        console.log( response );\n      }\n    });\n}, {fetchPrevious:false});\n"]}