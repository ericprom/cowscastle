{"version":3,"sources":["meteor://ðŸ’»app/lib/routes.js"],"names":[],"mappings":"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","file":"/lib/routes.js","sourcesContent":["_subscriber = new SubsManager();\n\nRouter.configure({\n  onBeforeAction: function(){\n    _subscriber.subscribe('currentUser');\n    this.next();\n  }\n})\n\nvar mustBeSignedIn = function(pause) {\n  if (!(Meteor.user() || Meteor.loggingIn())) {\n    Router.go('home');\n  } else {\n    this.next();\n  }\n};\n\nvar goToDashboard = function(pause) {\n  if (!Meteor.user()) {\n    Router.go('home');\n  } else {\n    this.next();\n  }\n};\n\nRouter.onBeforeAction(mustBeSignedIn, {except: ['home', 'privacy', 'terms', 'search']});\n// Router.onBeforeAction(goToDashboard, {only: ['profile','dashboard']});\n\nRouter.route('/', {\n  name: 'home',\n  controller: 'HomeController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\nRouter.route('profile/:_id?/:section?/', {\n  name: 'profile',\n  controller: 'ProfileController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\nRouter.route('venue/:_id?/:section?/', {\n  name: 'venue',\n  controller: 'VenueController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\nRouter.route('search/:keyword?/', {\n  name: 'search',\n  controller: 'SearchController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\n\nRouter.route('space/:_id?/:section?/', {\n  name: 'space',\n  controller: 'SpaceController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\n\nRouter.route('booking/:_id?/:section?/', {\n  name: 'booking',\n  controller: 'BookingController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\n\nRouter.route('dashboard', {\n  name: 'dashboard',\n  controller: 'DashboardController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\n\n\nRouter.route('privacy', {\n  name: 'privacy',\n  controller: 'PrivacyController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\nRouter.route('terms', {\n  name: 'terms',\n  controller: 'TermsController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\nRouter.route('castle/:_id?/:section?/', {\n  name: 'castle',\n  controller: 'CastleController',\n  where: 'client',\n  layoutTemplate: 'MasterLayout'\n});\n\n"]}